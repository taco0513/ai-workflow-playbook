# ğŸ“š ì‚´ì•„ìˆëŠ” ë¬¸ì„œí™” ì‹œìŠ¤í…œ

## ğŸ¯ ê°œìš”

**ê°œë°œí•˜ë©´ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ìŒ“ì´ëŠ” ë¬¸ì„œí™” ì‹œìŠ¤í…œ** - AIê°€ í—¤ë§¤ì§€ ì•Šë„ë¡ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³´ì¡´í•©ë‹ˆë‹¤.

### í•µì‹¬ ì² í•™
- ğŸ”„ **ê°œë°œê³¼ ë™ì‹œ**: ë³„ë„ ì‹œê°„ íˆ¬ì ì—†ì´ ê°œë°œí•˜ë©´ì„œ ìë™ ê¸°ë¡
- ğŸ¤– **AI ì¹œí™”ì **: Claudeê°€ ë°”ë¡œ ì´í•´í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ì €ì¥
- âš¡ **5ì´ˆ ì›ì¹™**: ì§€ê¸ˆ ë‹¹ì¥ 5ì´ˆë§Œ íˆ¬ìí•´ì„œ ë‚˜ì¤‘ì— ëª‡ ì‹œê°„ ì ˆì•½
- ğŸ”— **ì—°ê²° ìœ ì§€**: ì½”ë“œ-ë¬¸ì„œ-ê²°ì •ì‚¬í•­-ì—ëŸ¬ ëª¨ë“  ê²ƒì´ ì—°ê²°ë¨

---

## ğŸš¨ ì™œ AIê°€ í—¤ë§¤ëŠ”ê°€?

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤
```yaml
ìƒí™©: "ì´ ì—ëŸ¬ ì™œ ë‚˜ëŠ”ì§€ ëª¨ë¥´ê² ì–´"
AI: "ë¡œê·¸ë‚˜ ì´ì „ ì‹œë„ë¥¼ ë³´ì—¬ì£¼ì„¸ìš”"
ê°œë°œì: "ì–´ë””ë‹¤ ì €ì¥í–ˆëŠ”ì§€ ê¸°ì–µ ì•ˆ ë‚˜..."

ìƒí™©: "ì´ ì½”ë“œ ì™œ ì´ë ‡ê²Œ ì§°ì§€?"
AI: "ì„¤ê³„ ì˜ë„ë‚˜ ì œì•½ì‚¬í•­ì„ ì•Œë ¤ì£¼ì„¸ìš”"
ê°œë°œì: "ê¸°ì–µ ì•ˆ ë‚˜..."

ìƒí™©: "ë¹„ìŠ·í•œ ê¸°ëŠ¥ ì¶”ê°€í•˜ê³  ì‹¶ì–´"
AI: "ê¸°ì¡´ íŒ¨í„´ì´ë‚˜ ì•„í‚¤í…ì²˜ë¥¼ ë³´ì—¬ì£¼ì„¸ìš”"
ê°œë°œì: "ì–´ë–¤ íŒŒì¼ë“¤ì´ ê´€ë ¨ëœì§€ ëª¨ë¥´ê² ì–´..."
```

### AIê°€ í•„ìš”í•œ ì»¨í…ìŠ¤íŠ¸
- ğŸ¤” **ì˜ë„**: ì™œ ì´ë ‡ê²Œ êµ¬í˜„í–ˆëŠ”ì§€
- ğŸ” **ì‹œë„**: ë¬´ì—‡ì„ ì‹œë„í•´ë´¤ëŠ”ì§€ (ì‹¤íŒ¨ í¬í•¨)
- ğŸ”— **ê´€ê³„**: ì–´ë–¤ íŒŒì¼ë“¤ì´ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€
- âš ï¸ **ì œì•½**: ì–´ë–¤ ì œì•½ì´ë‚˜ ì£¼ì˜ì‚¬í•­ì´ ìˆëŠ”ì§€
- ğŸ“ˆ **ë³€í™”**: ì‹œê°„ì— ë”°ë¥¸ ë³€í™”ì™€ ì´ìœ 

---

## ğŸ—ï¸ ì‚´ì•„ìˆëŠ” ë¬¸ì„œí™” ì•„í‚¤í…ì²˜

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
your-project/
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ decisions/           # ê²°ì • ì‚¬í•­ ê¸°ë¡
â”‚   â”œâ”€â”€ errors/             # ì—ëŸ¬ì™€ í•´ê²° ê³¼ì •
â”‚   â”œâ”€â”€ patterns/           # ì½”ë“œ íŒ¨í„´ê³¼ ì´ìœ 
â”‚   â”œâ”€â”€ context/            # íŒŒì¼ë³„ ì»¨í…ìŠ¤íŠ¸
â”‚   â””â”€â”€ trace/              # ì½”ë“œ ë³€ê²½ ì¶”ì 
â”œâ”€â”€ .claude/                # Claude ì„¤ì •ê³¼ ì»¨í…ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ project-context.md  # í”„ë¡œì íŠ¸ ì „ì²´ ì»¨í…ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ current-focus.md    # í˜„ì¬ ì‘ì—… ì¤‘ì¸ ê²ƒ
â”‚   â””â”€â”€ learned-patterns.md # í•™ìŠµëœ íŒ¨í„´ë“¤
â””â”€â”€ ì½”ë“œ íŒŒì¼ë“¤...
```

---

## âš¡ 5ì´ˆ ë¬¸ì„œí™” ì‹œìŠ¤í…œ

### 1. ì¦‰ì‹œ ê¸°ë¡ íŒ¨í„´

#### ì½”ë“œ ì‘ì„±í•  ë•Œ (5ì´ˆ)
```typescript
// WHY: ì‚¬ìš©ì ì¸ì¦ ì‹¤íŒ¨ì‹œ 3ë²ˆê¹Œì§€ ì¬ì‹œë„ (ë³´ì•ˆíŒ€ ìš”êµ¬ì‚¬í•­)
// TRIED: bcrypt.compare ì§ì ‘ ì‚¬ìš©í–ˆìœ¼ë‚˜ íƒ€ì´ë° ì–´íƒ ì·¨ì•½ì  
// CONTEXT: /docs/decisions/auth-retry-policy.md ì°¸ì¡°
const MAX_AUTH_RETRIES = 3;

function authenticateUser(credentials) {
  // PATTERN: ëª¨ë“  auth í•¨ìˆ˜ëŠ” ì´ íŒ¨í„´ ë”°ë¦„ (/docs/patterns/auth.md)
  // RELATED: validateCredentials(), logAuthAttempt(), updateUserStatus()
}
```

#### ì—ëŸ¬ ë§Œë‚¬ì„ ë•Œ (5ì´ˆ)
```bash
# ì—ëŸ¬ ë°œìƒ ì¦‰ì‹œ ê¸°ë¡
echo "$(date): TypeError in user.service.ts line 45" >> docs/errors/$(date +%Y-%m).md
echo "TRIED: íƒ€ì… ì²´í¬ ì¶”ê°€, null ì²´í¬ ì¶”ê°€" >> docs/errors/$(date +%Y-%m).md  
echo "CONTEXT: ì‚¬ìš©ì ìƒì„± í”Œë¡œìš°ì—ì„œ ë°œìƒ" >> docs/errors/$(date +%Y-%m).md
echo "RELATED: user.model.ts, validation.ts" >> docs/errors/$(date +%Y-%m).md
```

#### í•´ê²°í–ˆì„ ë•Œ (5ì´ˆ)
```bash
# í•´ê²° ë°©ë²• ì¦‰ì‹œ ê¸°ë¡
echo "SOLVED: interface Userì— optional field ì¶”ê°€" >> docs/errors/$(date +%Y-%m).md
echo "FILES_CHANGED: user.service.ts, user.model.ts" >> docs/errors/$(date +%Y-%m).md
echo "LESSON: íƒ€ì… ì •ì˜í•  ë•Œ optional í•„ë“œ ë¨¼ì € ê³ ë ¤í•˜ê¸°" >> docs/errors/$(date +%Y-%m).md
```

### 2. ìë™ ìˆ˜ì§‘ ì‹œìŠ¤í…œ

#### Git Hookìœ¼ë¡œ ìë™ ê¸°ë¡
```bash
# .git/hooks/post-commit
#!/bin/sh
# ì»¤ë°‹í•  ë•Œë§ˆë‹¤ ë³€ê²½ ì‚¬í•­ ìë™ ê¸°ë¡

COMMIT_MSG=$(git log -1 --pretty=%B)
CHANGED_FILES=$(git diff-tree --no-commit-id --name-only -r HEAD)

cat >> docs/trace/$(date +%Y-%m).md << EOF
## $(date): $COMMIT_MSG
Files: $CHANGED_FILES
Context: $COMMIT_MSG

EOF
```

#### ì—ëŸ¬ ìë™ ìˆ˜ì§‘
```javascript
// í”„ë¡œë•ì…˜ ì—ëŸ¬ ìë™ ê¸°ë¡
process.on('uncaughtException', (error) => {
  const errorLog = {
    timestamp: new Date().toISOString(),
    error: error.message,
    stack: error.stack,
    context: getCurrentContext(), // í˜„ì¬ ì‘ì—… ì»¨í…ìŠ¤íŠ¸
    relatedFiles: getRelatedFiles(error) // ê´€ë ¨ íŒŒì¼ë“¤
  };
  
  fs.appendFileSync('docs/errors/production.jsonl', JSON.stringify(errorLog) + '\n');
});
```

---

## ğŸ”— ì½”ë“œ-ë¬¸ì„œ ë™ê¸°í™” ì‹œìŠ¤í…œ

### ì½”ë“œ ë³€ê²½ ì‹œ ê´€ë ¨ ë¬¸ì„œ ì¶”ì 

#### ìë™ ê´€ë ¨ íŒŒì¼ ì°¾ê¸°
```bash
# íŒŒì¼ ë³€ê²½í•  ë•Œ ê´€ë ¨ ë¬¸ì„œë„ í•¨ê»˜ ì—…ë°ì´íŠ¸
update_with_docs() {
  local file=$1
  
  # ê´€ë ¨ ë¬¸ì„œ ì°¾ê¸°
  local related_docs=$(grep -r "RELATED.*$file" docs/ | cut -d: -f1)
  local pattern_docs=$(grep -r "PATTERN.*$(dirname $file)" docs/patterns/)
  
  echo "âš ï¸  $file ë³€ê²½ì‹œ ë‹¤ìŒ ë¬¸ì„œë“¤ë„ í™•ì¸í•˜ì„¸ìš”:"
  echo "$related_docs"
  echo "$pattern_docs"
  
  # Claudeì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦¼
  echo "Claude: $fileì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë ¨ ë¬¸ì„œ: $related_docs" > .claude/current-changes.md
}

# ì‚¬ìš©ë²•: update_with_docs src/user.service.ts
```

#### ë¬¸ì„œ ì¼ê´€ì„± ì²´í¬
```bash
# ë¬¸ì„œì™€ ì½”ë“œ ë™ê¸°í™” í™•ì¸
check_docs_sync() {
  # ì½”ë“œì—ì„œ ì–¸ê¸‰ëœ íŒŒì¼ë“¤ì´ ì‹¤ì œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
  grep -r "RELATED:" --include="*.ts" --include="*.js" src/ | while read line; do
    local mentioned_file=$(echo $line | sed 's/.*RELATED: //' | cut -d',' -f1)
    if [ ! -f "$mentioned_file" ]; then
      echo "âŒ $line - $mentioned_file íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ"
    fi
  done
  
  # ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ ì½”ë“œë“¤ì´ ì‹¤ì œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸  
  find docs/ -name "*.md" -exec grep -l "RELATED:" {} \; | while read doc; do
    grep "RELATED:" "$doc" | while read line; do
      local mentioned_file=$(echo $line | sed 's/.*RELATED: //' | cut -d',' -f1)
      if [ ! -f "$mentioned_file" ]; then
        echo "âŒ $doc - $mentioned_file íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŒ"
      fi
    done
  done
}
```

---

## ğŸ¤– AI ìµœì í™” ë¬¸ì„œ í˜•ì‹

### Claudeê°€ ì¢‹ì•„í•˜ëŠ” í˜•ì‹

#### 1. ì»¨í…ìŠ¤íŠ¸ ë¬¸ì„œ í…œí”Œë¦¿
```markdown
# íŒŒì¼ëª…: src/user.service.ts

## PURPOSE
ì‚¬ìš©ì ê´€ë¦¬ í•µì‹¬ ë¡œì§ - ìƒì„±, ì¸ì¦, ê¶Œí•œ ì²˜ë¦¬

## ARCHITECTURE
- LAYER: Service Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
- DEPENDS_ON: user.model.ts, auth.util.ts, validation.ts
- USED_BY: user.controller.ts, auth.middleware.ts

## KEY_DECISIONS
- íŒ¨ìŠ¤ì›Œë“œ í•´ì‹±: bcrypt (ë³´ì•ˆíŒ€ ìš”êµ¬ì‚¬í•­)
- ì„¸ì…˜ ê´€ë¦¬: JWT + Redis (í™•ì¥ì„± ê³ ë ¤)
- ì—ëŸ¬ ì²˜ë¦¬: custom UserError í´ë˜ìŠ¤ ì‚¬ìš©

## PATTERNS
- Repository Pattern for database access
- Strategy Pattern for authentication methods
- Observer Pattern for user events

## GOTCHAS
- âš ï¸ ì‚¬ìš©ì ì‚­ì œì‹œ ê´€ë ¨ ë°ì´í„° cascade ì‚­ì œ ì£¼ì˜
- âš ï¸ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì‹œ ëª¨ë“  ì„¸ì…˜ ë¬´íš¨í™” í•„ìš”
- âš ï¸ ì´ë©”ì¼ ë³€ê²½ì‹œ ì¬ì¸ì¦ í•„ìš”

## RELATED_FILES
- user.model.ts: ë°ì´í„° ëª¨ë¸
- auth.util.ts: ì¸ì¦ ìœ í‹¸ë¦¬í‹°
- user.controller.ts: API ì—”ë“œí¬ì¸íŠ¸
- validation.ts: ìœ íš¨ì„± ê²€ì‚¬

## RECENT_CHANGES
- 2024-01-15: 2FA ì§€ì› ì¶”ê°€ (security update)
- 2024-01-10: ì‚¬ìš©ì ì—­í•  ì‹œìŠ¤í…œ ê°œì„  (feature update)

## TESTING
- Unit tests: user.service.test.ts
- Integration tests: user.integration.test.ts
- Key scenarios: íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
```

#### 2. ì—ëŸ¬ í•´ê²° ê³¼ì • í…œí”Œë¦¿
```markdown
# Error: TypeError in user creation flow

## WHEN
2024-01-15 14:30 - ì‚¬ìš©ì íšŒì›ê°€ì… ì‹œë„ ì¤‘

## SYMPTOMS
- TypeError: Cannot read property 'email' of undefined
- Line: user.service.ts:45
- Frequency: ì‚¬ìš©ì ì…ë ¥ ëˆ„ë½ì‹œë§ˆë‹¤

## INVESTIGATION
1. âœ… TRIED: console.logë¡œ user ê°ì²´ í™•ì¸ â†’ undefined í™•ì¸
2. âœ… TRIED: validation ë¯¸ë“¤ì›¨ì–´ í™•ì¸ â†’ ì •ìƒ ì‘ë™
3. âœ… TRIED: í”„ë¡ íŠ¸ì—”ë“œ payload í™•ì¸ â†’ email í•„ë“œ ëˆ„ë½ ë°œê²¬
4. âŒ TRIED: ë°±ì—”ë“œì—ì„œ ê¸°ë³¸ê°’ ì„¤ì • â†’ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ë°˜

## SOLUTION
```typescript
// BEFORE
function createUser(userData) {
  const email = userData.email.toLowerCase(); // âŒ emailì´ ì—†ìœ¼ë©´ ì—ëŸ¬
}

// AFTER  
function createUser(userData) {
  if (!userData?.email) {
    throw new ValidationError('Email is required');
  }
  const email = userData.email.toLowerCase(); // âœ… ì•ˆì „
}
```

## LESSON_LEARNED
- ì‚¬ìš©ì ì…ë ¥ì€ í•­ìƒ ê²€ì¦ í›„ ì‚¬ìš©
- Optional chaining ì ê·¹ í™œìš©
- ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ëª…í™•í•˜ê²Œ ì‘ì„±

## RELATED_FILES
- user.service.ts: ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜
- validation.middleware.ts: ê²€ì¦ ë¡œì§
- user.controller.ts: API ì—”ë“œí¬ì¸íŠ¸

## PREVENTION
- TypeScript strict ëª¨ë“œ í™œì„±í™”
- ì…ë ¥ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´ ê°•í™”
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì— edge case ì¶”ê°€
```

#### 3. ê²°ì • ì‚¬í•­ ê¸°ë¡ í…œí”Œë¦¿
```markdown
# Decision: JWT vs Session-based Authentication

## DATE
2024-01-10

## CONTEXT
ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„ í•„ìš”. í™•ì¥ì„±ê³¼ ë³´ì•ˆì„ ê³ ë ¤í•´ì•¼ í•¨.

## OPTIONS_CONSIDERED
1. **Session-based (ì„œë²„ ì„¸ì…˜)**
   - Pros: ì„œë²„ì—ì„œ ì™„ì „ ì œì–´, ì¦‰ì‹œ ë¬´íš¨í™” ê°€ëŠ¥
   - Cons: í™•ì¥ì„± ë¬¸ì œ, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€

2. **JWT Token**
   - Pros: stateless, í™•ì¥ì„± ì¢‹ìŒ, ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¹œí™”ì 
   - Cons: í† í° ë¬´íš¨í™” ì–´ë ¤ì›€, í† í° í¬ê¸°

3. **JWT + Refresh Token + Redis**
   - Pros: JWT ì¥ì  + í† í° ë¬´íš¨í™” ê°€ëŠ¥
   - Cons: ë³µì¡ì„± ì¦ê°€, Redis ì˜ì¡´ì„±

## DECISION
**JWT + Refresh Token + Redis** ì„ íƒ

## REASONING
- í–¥í›„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ ê³„íš
- ëª¨ë°”ì¼ ì•± ì§€ì› í•„ìš” (stateless ì„ í˜¸)
- ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ì¶©ì¡± (í† í° ë¬´íš¨í™”)

## IMPLEMENTATION
```typescript
// auth.service.ts
class AuthService {
  generateTokens(user) {
    const accessToken = jwt.sign({...}, secret, {expiresIn: '15m'});
    const refreshToken = jwt.sign({...}, secret, {expiresIn: '7d'});
    
    // Redisì— refresh token ì €ì¥
    redis.setex(`refresh:${user.id}`, 604800, refreshToken);
    
    return {accessToken, refreshToken};
  }
}
```

## CONSEQUENCES
- âœ… í™•ì¥ì„± í™•ë³´
- âœ… ëª¨ë°”ì¼ ì•± ì§€ì› ê°€ëŠ¥
- âŒ ì‹œìŠ¤í…œ ë³µì¡ë„ ì¦ê°€
- âŒ Redis ì˜ì¡´ì„± ì¶”ê°€

## RELATED_FILES
- auth.service.ts: í† í° ìƒì„±/ê²€ì¦
- auth.middleware.ts: í† í° ê²€ì‚¬
- redis.config.ts: Redis ì„¤ì •

## REVIEW_DATE
2024-07-10 (6ê°œì›” í›„ ì¬ê²€í† )
```

---

## ğŸ”„ ì‹¤ì‹œê°„ ë¬¸ì„œí™” ì›Œí¬í”Œë¡œìš°

### ê°œë°œ ì¤‘ ì¦‰ì‹œ ê¸°ë¡

#### VS Code í™•ì¥ ê¸°ëŠ¥ í™œìš©
```json
// .vscode/settings.json
{
  "files.associations": {
    "*.context.md": "markdown"
  },
  "editor.snippets": {
    "why-comment": "// WHY: $1\n// TRIED: $2\n// CONTEXT: $3",
    "error-log": "echo \"$(date): $1\" >> docs/errors/$(date +%Y-%m).md"
  }
}
```

#### ê°œë°œ í”Œë¡œìš° í†µí•©
```bash
# ìƒˆ ê¸°ëŠ¥ ì‹œì‘í•  ë•Œ
start_feature() {
  local feature_name=$1
  
  # ì»¨í…ìŠ¤íŠ¸ íŒŒì¼ ìƒì„±
  cat > .claude/current-focus.md << EOF
# Current Focus: $feature_name

## Goal
$2

## Files Involved
- [ ] 

## Key Decisions
- 

## Blockers
- 

## Progress
- [ ] Planning
- [ ] Implementation  
- [ ] Testing
- [ ] Documentation

EOF
  
  echo "âœ… Context file created: .claude/current-focus.md"
}

# ì‚¬ìš©: start_feature "user-notification" "ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ ì•Œë¦¼ ê¸°ëŠ¥ ì¶”ê°€"
```

#### ì—ëŸ¬ ë°œìƒì‹œ ì¦‰ì‹œ ê¸°ë¡
```bash
# ì—ëŸ¬ ë§Œë‚¬ì„ ë•Œ ë°”ë¡œ ì‹¤í–‰
log_error() {
  local error_msg="$1"
  local file_path="$2"
  
  cat >> docs/errors/$(date +%Y-%m).md << EOF

## $(date): $error_msg
- File: $file_path
- Context: $(cat .claude/current-focus.md | head -5)
- Last commit: $(git log -1 --oneline)
- Tried: 
- Solution: 
- Related: 

EOF
  
  echo "ğŸ“ Error logged. Edit docs/errors/$(date +%Y-%m).md to add details"
}
```

### í•´ê²° í›„ ì¦‰ì‹œ ì—…ë°ì´íŠ¸

#### ë¬¸ì œ í•´ê²° ì™„ë£Œ ì²´í¬
```bash
# í•´ê²°í–ˆì„ ë•Œ ë°”ë¡œ ì‹¤í–‰
solved_error() {
  local solution="$1"
  local lesson="$2"
  
  # ìµœê·¼ ì—ëŸ¬ ë¡œê·¸ì— í•´ê²°ì±… ì¶”ê°€
  local error_file="docs/errors/$(date +%Y-%m).md"
  
  # ë§ˆì§€ë§‰ "Solution:" ë¼ì¸ ì°¾ì•„ì„œ ì—…ë°ì´íŠ¸
  sed -i "s/- Solution: /- Solution: $solution/" "$error_file"
  sed -i "s/- Related: /- Lesson: $lesson\n- Related: /" "$error_file"
  
  # Claude ì»¨í…ìŠ¤íŠ¸ì—ë„ í•™ìŠµ ë‚´ìš© ì¶”ê°€
  echo "LEARNED: $lesson" >> .claude/learned-patterns.md
  
  echo "âœ… Solution logged and learned!"
}
```

---

## ğŸ¯ AI í˜‘ì—… ìµœì í™”

### Claudeì—ê²Œ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì œê³µ

#### í”„ë¡œì íŠ¸ ì‹œì‘ì‹œ ì„¤ì •
```bash
# Claude ì „ìš© ì»¨í…ìŠ¤íŠ¸ ìƒì„±
setup_claude_context() {
  mkdir -p .claude
  
  cat > .claude/project-context.md << 'EOF'
# Project Context for Claude

## What This Project Does
[í”„ë¡œì íŠ¸ ì„¤ëª…]

## Architecture Overview
[ì‹œìŠ¤í…œ êµ¬ì¡° ê°„ë‹¨ ì„¤ëª…]

## Key Technologies
- Framework: 
- Database: 
- Auth: 
- Deployment: 

## Important Patterns
[ë°˜ë³µë˜ëŠ” íŒ¨í„´ë“¤]

## Common Gotchas
[ìì£¼ ì‹¤ìˆ˜í•˜ëŠ” ë¶€ë¶„ë“¤]

## File Organization
```
src/
â”œâ”€â”€ components/     # UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ services/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ utils/         # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ types/         # TypeScript íƒ€ì… ì •ì˜
```

## Current Status
[í˜„ì¬ ìƒíƒœì™€ ë‹¤ìŒ í•  ì¼]
EOF

  echo "ğŸ“‹ Claude context created! Edit .claude/project-context.md"
}
```

#### ì„¸ì…˜ ì‹œì‘í•  ë•Œë§ˆë‹¤ ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ
```bash
# Claude ì„¸ì…˜ ì‹œì‘
claude_start() {
  echo "ğŸ¤– Loading project context for Claude..."
  
  if [ -f ".claude/project-context.md" ]; then
    echo "ğŸ“– @.claude/project-context.md"
  fi
  
  if [ -f ".claude/current-focus.md" ]; then
    echo "ğŸ¯ @.claude/current-focus.md"  
  fi
  
  if [ -f "docs/errors/$(date +%Y-%m).md" ]; then
    echo "ğŸ› @docs/errors/$(date +%Y-%m).md"
  fi
  
  echo "\nğŸ’¡ ClaudeëŠ” ì´ì œ í”„ë¡œì íŠ¸ ì „ì²´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´í•´í•©ë‹ˆë‹¤!"
}
```

### ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì§ˆë¬¸í•˜ê¸°

#### êµ¬ì²´ì  ì»¨í…ìŠ¤íŠ¸ ì œê³µ
```bash
# ì¢‹ì€ ì§ˆë¬¸ ì˜ˆì‹œ
claude "ì´ ì—ëŸ¬ë¥¼ í•´ê²°í•´ì¤˜ @docs/errors/2024-01.md @src/user.service.ts @.claude/current-focus.md"

# ë‚˜ìœ ì§ˆë¬¸ ì˜ˆì‹œ  
claude "ì—ëŸ¬ê°€ ë‚˜ëŠ”ë° ì–´ë–»ê²Œ í•´ê²°í•˜ì§€?"
```

#### ê´€ë ¨ íŒŒì¼ ìë™ í¬í•¨
```bash
# ìŠ¤ë§ˆíŠ¸ ì§ˆë¬¸ í—¬í¼
ask_claude() {
  local question="$1"
  local main_file="$2"
  
  # ê´€ë ¨ íŒŒì¼ë“¤ ìë™ ì°¾ê¸°
  local related_files=""
  
  if [ -f "$main_file" ]; then
    # ì½”ë“œì—ì„œ importí•˜ëŠ” íŒŒì¼ë“¤ ì°¾ê¸°
    related_files=$(grep -o "from ['\"].*['\"]" "$main_file" | sed "s/from ['\"]//g" | sed "s/['\"]//g")
  fi
  
  # Claudeì—ê²Œ ì»¨í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ ì§ˆë¬¸
  echo "ğŸ¤– Asking Claude with context..."
  echo "Question: $question"
  echo "Main file: @$main_file"
  echo "Related files: $(echo $related_files | tr '\n' ' ' | sed 's/^/@/g' | sed 's/ / @/g')"
  echo "Project context: @.claude/project-context.md"
  echo "Current focus: @.claude/current-focus.md"
}

# ì‚¬ìš©: ask_claude "ì´ í•¨ìˆ˜ë¥¼ ìµœì í™”í•´ì¤˜" "src/user.service.ts"
```

---

## ğŸ“Š ë¬¸ì„œí™” í’ˆì§ˆ ëª¨ë‹ˆí„°ë§

### ë¬¸ì„œí™” ì™„ì„±ë„ ì²´í¬

#### ìë™ í’ˆì§ˆ ê²€ì‚¬
```bash
# ë¬¸ì„œí™” í’ˆì§ˆ ì ìˆ˜
check_documentation_quality() {
  local score=0
  local total=0
  
  echo "ğŸ“Š Documentation Quality Report"
  echo "================================"
  
  # 1. í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì¡´ì¬ ì—¬ë¶€
  total=$((total + 10))
  if [ -f ".claude/project-context.md" ]; then
    score=$((score + 10))
    echo "âœ… Project context exists (+10)"
  else
    echo "âŒ Missing project context (-10)"
  fi
  
  # 2. í•µì‹¬ íŒŒì¼ë“¤ì˜ ë¬¸ì„œí™” ì—¬ë¶€
  for file in $(find src/ -name "*.ts" -o -name "*.js" | head -10); do
    total=$((total + 5))
    if grep -q "// WHY:" "$file" || grep -q "// PURPOSE:" "$file"; then
      score=$((score + 5))
      echo "âœ… $file has context comments (+5)"
    else
      echo "âš ï¸  $file missing context comments (-5)"
    fi
  done
  
  # 3. ìµœê·¼ ì—ëŸ¬ ê¸°ë¡ ì—¬ë¶€
  total=$((total + 15))
  if [ -f "docs/errors/$(date +%Y-%m).md" ]; then
    local error_count=$(grep -c "##.*Error\|##.*$(date)" "docs/errors/$(date +%Y-%m).md" || echo 0)
    if [ $error_count -gt 0 ]; then
      score=$((score + 15))
      echo "âœ… Recent errors documented ($error_count entries) (+15)"
    else
      score=$((score + 5))  
      echo "âš ï¸  Error log exists but empty (+5)"
    fi
  else
    echo "âŒ No error documentation (-15)"
  fi
  
  # 4. ê²°ì •ì‚¬í•­ ê¸°ë¡ ì—¬ë¶€
  total=$((total + 10))
  if [ -d "docs/decisions" ] && [ $(ls docs/decisions/*.md 2>/dev/null | wc -l) -gt 0 ]; then
    score=$((score + 10))
    echo "âœ… Decision records exist (+10)"
  else
    echo "âŒ Missing decision records (-10)"
  fi
  
  echo "================================"
  echo "ğŸ“Š Documentation Score: $score/$total ($(($score * 100 / $total))%)"
  
  if [ $(($score * 100 / $total)) -lt 70 ]; then
    echo "ğŸš¨ Documentation quality is low. AI will struggle with context!"
    echo "ğŸ’¡ Run 'setup_claude_context' and start documenting as you code."
  else
    echo "âœ… Good documentation quality. AI can work effectively!"
  fi
}
```

#### ë¬¸ì„œ ë™ê¸°í™” ê²€ì‚¬
```bash
# ì½”ë“œì™€ ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ í™•ì¸
check_sync_status() {
  echo "ğŸ” Checking code-documentation synchronization..."
  
  # ì½”ë“œì—ì„œ ì–¸ê¸‰ëœ íŒŒì¼ë“¤ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
  echo "\nğŸ“‹ Checking RELATED file references:"
  grep -r "RELATED:" --include="*.ts" --include="*.js" src/ | while read line; do
    local file=$(echo $line | cut -d: -f1)
    local mentioned=$(echo $line | cut -d: -f3- | sed 's/.*RELATED: *//')
    
    echo "$mentioned" | tr ',' '\n' | while read ref_file; do
      ref_file=$(echo $ref_file | xargs) # trim whitespace
      if [ ! -f "$ref_file" ]; then
        echo "âŒ $file references missing file: $ref_file"
      fi
    done
  done
  
  # ë¬¸ì„œì—ì„œ ì–¸ê¸‰ëœ íŒŒì¼ë“¤ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
  echo "\nğŸ“‹ Checking documentation file references:"
  find docs/ -name "*.md" -exec grep -l "RELATED:" {} \; | while read doc; do
    grep "RELATED:" "$doc" | while read line; do
      local mentioned=$(echo $line | sed 's/.*RELATED: *//')
      echo "$mentioned" | tr ',' '\n' | while read ref_file; do
        ref_file=$(echo $ref_file | xargs)
        if [ ! -f "$ref_file" ]; then
          echo "âŒ $doc references missing file: $ref_file"
        fi
      done
    done
  done
  
  echo "\nâœ… Synchronization check complete!"
}
```

---

## ğŸš€ ì¦‰ì‹œ ì ìš© ê°€ì´ë“œ

### 1ë‹¨ê³„: ê¸°ë³¸ ì„¤ì • (5ë¶„)
```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
mkdir -p docs/{decisions,errors,patterns,context,trace}
mkdir -p .claude

# ê¸°ë³¸ í…œí”Œë¦¿ ìƒì„±
setup_claude_context

# Git hook ì„¤ì • (ì„ íƒì‚¬í•­)
cat > .git/hooks/post-commit << 'EOF'
#!/bin/sh
COMMIT_MSG=$(git log -1 --pretty=%B)
CHANGED_FILES=$(git diff-tree --no-commit-id --name-only -r HEAD)
echo "## $(date): $COMMIT_MSG" >> docs/trace/$(date +%Y-%m).md
echo "Files: $CHANGED_FILES" >> docs/trace/$(date +%Y-%m).md
echo "" >> docs/trace/$(date +%Y-%m).md
EOF
chmod +x .git/hooks/post-commit
```

### 2ë‹¨ê³„: ì½”ë”©í•  ë•Œ ì ìš© (ë§¤ì¼)
```typescript
// ìƒˆ íŒŒì¼ ë§Œë“¤ ë•Œ í•­ìƒ ìƒë‹¨ì— ì¶”ê°€
// PURPOSE: ì´ íŒŒì¼ì´ í•˜ëŠ” ì¼
// ARCHITECTURE: ì–´ëŠ ë ˆì´ì–´ì— ì†í•˜ëŠ”ì§€  
// RELATED: ê´€ë ¨ëœ íŒŒì¼ë“¤
// GOTCHAS: ì£¼ì˜ì‚¬í•­

// ë³µì¡í•œ ë¡œì§ ì•ì— WHY ì£¼ì„
// WHY: ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ì„¤ëª…
// TRIED: ë‹¤ë¥¸ ë°©ë²•ë“¤ê³¼ ì™œ ì•ˆ ë˜ëŠ”ì§€
function complexLogic() {
  // ...
}
```

### 3ë‹¨ê³„: ì—ëŸ¬ ë§Œë‚  ë•Œ ì ìš© (ì¦‰ì‹œ)
```bash
# ì—ëŸ¬ ë°œìƒì‹œ ë°”ë¡œ ì‹¤í–‰ (5ì´ˆ)
echo "$(date): [ì—ëŸ¬ ì„¤ëª…] in [íŒŒì¼ëª…]:[ë¼ì¸]" >> docs/errors/$(date +%Y-%m).md
echo "CONTEXT: [ë¬´ì—‡ì„ í•˜ë ¤ê³  í–ˆëŠ”ì§€]" >> docs/errors/$(date +%Y-%m).md
echo "TRIED: " >> docs/errors/$(date +%Y-%m).md
echo "SOLUTION: " >> docs/errors/$(date +%Y-%m).md
```

### 4ë‹¨ê³„: Claudeì™€ ì‘ì—…í•  ë•Œ
```bash
# í•­ìƒ ì»¨í…ìŠ¤íŠ¸ì™€ í•¨ê»˜ ì§ˆë¬¸
claude "ì§ˆë¬¸ ë‚´ìš© @.claude/project-context.md @í˜„ì¬íŒŒì¼ @ê´€ë ¨íŒŒì¼"

# í•´ê²° í›„ í•™ìŠµ ë‚´ìš© ê¸°ë¡
echo "LEARNED: [ë°°ìš´ ë‚´ìš©]" >> .claude/learned-patterns.md
```

---

## ğŸ’¡ ê³ ê¸‰ ìë™í™”

### VS Code í†µí•©

#### ìë™ ë¬¸ì„œí™” í™•ì¥ ì„¤ì •
```json
// .vscode/tasks.json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Document Current File",
      "type": "shell",
      "command": "echo",
      "args": [
        "# ${fileBasename}\n\n## PURPOSE\n\n## RELATED\n\n## GOTCHAS\n",
        ">>",
        "docs/context/${fileBasename}.md"
      ],
      "group": "build"
    }
  ]
}
```

#### ì½”ë“œ ìŠ¤ë‹ˆí«
```json
// .vscode/snippets.json
{
  "context-comment": {
    "prefix": "why",
    "body": [
      "// WHY: $1",
      "// TRIED: $2", 
      "// CONTEXT: $3"
    ],
    "description": "Add context comment"
  },
  "error-log": {
    "prefix": "errlog",
    "body": [
      "// ERROR: $1",
      "// FILE: ${TM_FILENAME}:${TM_LINE_NUMBER}",
      "// CONTEXT: $2"
    ],
    "description": "Quick error logging"
  }
}
```

### ìë™ ë¦¬í¬íŠ¸ ìƒì„±

#### ì£¼ê°„ ë¬¸ì„œí™” ë¦¬í¬íŠ¸
```bash
# ë§¤ì£¼ ì‹¤í–‰ë˜ëŠ” ë¬¸ì„œí™” ìƒíƒœ ë¦¬í¬íŠ¸
generate_weekly_report() {
  local report_file="docs/reports/$(date +%Y-W%U).md"
  
  cat > "$report_file" << EOF
# Weekly Documentation Report - $(date +%Y-W%U)

## Code Changes
$(git log --since="1 week ago" --oneline)

## New Errors & Solutions
$(find docs/errors/ -name "*.md" -mtime -7 -exec cat {} \;)

## Documentation Quality
$(check_documentation_quality)

## Action Items
- [ ] Review and update project context
- [ ] Document any undocumented patterns
- [ ] Clean up outdated references

EOF

  echo "ğŸ“Š Weekly report generated: $report_file"
}
```

---

## ğŸ¯ ì„±ê³µ ì§€í‘œ

### ë¬¸ì„œí™” ì‹œìŠ¤í…œì´ ì„±ê³µí–ˆë‹¤ëŠ” ì‹ í˜¸ë“¤

#### AI í˜‘ì—… íš¨ìœ¨ì„±
- âœ… Claudeê°€ ì²« ë²ˆì§¸ ë‹µë³€ì—ì„œ ì •í™•í•œ í•´ê²°ì±… ì œì‹œ
- âœ… ì»¨í…ìŠ¤íŠ¸ ì¬ì„¤ëª… ì—†ì´ë„ ë³µì¡í•œ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
- âœ… ê´€ë ¨ íŒŒì¼ë“¤ì„ ìë™ìœ¼ë¡œ ì •í™•íˆ ì‹ë³„

#### ê°œë°œ ìƒì‚°ì„±
- âœ… ê³¼ê±° ì—ëŸ¬ í•´ê²° ë°©ë²•ì„ 5ì´ˆ ì•ˆì— ì°¾ê¸° ê°€ëŠ¥
- âœ… ìƒˆ íŒ€ì›ì´ í”„ë¡œì íŠ¸ ì´í•´í•˜ëŠ”ë° 1ì‹œê°„ ì´ë‚´
- âœ… ì½”ë“œ ë¦¬ë·°ì‹œ ì»¨í…ìŠ¤íŠ¸ ì„¤ëª… ì‹œê°„ 50% ë‹¨ì¶•

#### ì½”ë“œ í’ˆì§ˆ
- âœ… ê°™ì€ ì‹¤ìˆ˜ ë°˜ë³µìœ¨ 90% ê°ì†Œ
- âœ… ë²„ê·¸ ë°œìƒì‹œ ê´€ë ¨ ì½”ë“œ ì¦‰ì‹œ ì‹ë³„ ê°€ëŠ¥
- âœ… ë¦¬íŒ©í† ë§ì‹œ ì˜í–¥ ë²”ìœ„ ì •í™•íˆ íŒŒì•…

---

> ğŸ’¡ **í•µì‹¬ì€ ìŠµê´€ì…ë‹ˆë‹¤**
> 
> í•˜ë£¨ 5ë¶„ì”© íˆ¬ìí•´ì„œ ëª‡ ì‹œê°„ì„ ì ˆì•½í•˜ì„¸ìš”.
> AIëŠ” ì»¨í…ìŠ¤íŠ¸ê°€ ìˆì„ ë•Œ ë§ˆë²• ê°™ì€ íŒŒíŠ¸ë„ˆê°€ ë©ë‹ˆë‹¤! ğŸ¤–âœ¨

**ì´ì œ AIê°€ í—¤ë§¤ì§€ ì•Šê³  ë‹¹ì‹ ì˜ ìµœê³ ì˜ ê°œë°œ íŒŒíŠ¸ë„ˆê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤!**